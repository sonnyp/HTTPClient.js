!function(a){"use strict";var b;b="undefined"!=typeof Buffer?function(a){return new Buffer(a).toString("base64")}:a.btoa;var c,d=["OPTIONS","GET","HEAD","POST","PUT","DELETE","TRACE","CONNECT","PATCH"],e=function(a){return Object.getPrototypeOf?Object.getPrototypeOf(a):a.__proto__},f=e({}),g=function(a){return"object"!=typeof a?!1:e(a)===f||null===e(a)},h={query:{},secure:!1,host:"localhost",path:"/",headers:{},method:"GET",port:80,jsonp:!1,username:"",password:""},i=function(a,c){a=a||{};var d={};for(var e in h)d[e]=typeof a[e]==typeof h[e]?a[e]:c&&typeof c[e]==typeof h[e]?c[e]:h[e];d.method=d.method.toUpperCase(),a.jsonp===!0&&(a.jsonp="callback"),"string"==typeof a.jsonp&&(d.jsonp=a.jsonp,d.query[a.jsonp]="HTTPClient"+Date.now());for(var f in d.headers){var i=d.headers[f];delete d.headers[f],d.headers[f.toLowerCase()]=i}if("string"==typeof a.username&&a.username&&"string"==typeof a.password&&a.password){var j=a.username+":"+a.password;d.headers.authorization="Basic "+b(j)}return Array.isArray(a.body)||g(a.body)?(d.body=JSON.stringify(a.body),d.headers["content-type"]||(d.headers["content-type"]="application/json; charset=utf-8")):"string"==typeof a.body?(d.body=a.body,d.headers["content-type"]||(d.headers["content-type"]="text/plain; charset=utf-8")):(void 0!==a.body||null!==a.body)&&(d.body=a.body),d},j=function(a){var b="";if("object"==typeof a){var c=a["content-type"];c&&(b=c.split(";")[0])}return b},k=function(a){var b=null;if("object"==typeof a){var c=a["content-length"];c&&(b=parseInt(c,10))}return b};if("undefined"!=typeof module&&module.exports){if(!a.Promise)try{c=require("es6-promise").Promise}catch(l){}}else c=a.Promise;var m=function(){};m.prototype.onend=function(){},m.prototype.onprogress=function(){};var n={handleOptions:i,getTypeFromHeaders:j,getSizeFromHeaders:k,getPrototypeOf:e,Promise:c,methods:d,defaultOptions:h,HTTPResponse:m};"undefined"!=typeof module&&module.exports?module.exports=n:a.HTTPClient={utils:n}}(this),function(a){"use strict";var b=a.HTTPClient.utils,c=function(a,b,c){b=b||"&",c=c||"=";var d="";if("object"==typeof a){for(var e in a)d+=e+c+a[e]+b;d.length>0&&(d="?"+d.slice(0,-1))}return d},d=function(a){var b=c(a.query);return[a.secure?"https":"http","://",a.host,a.port?":"+a.port:"",a.path||"/",b,a.hash||""].join("")},e=function(a){var b={};if(a)for(var c=a.split("\n"),d=0;d<c.length;d++)if(c[d]){var e=c[d].split(":");b[e[0].toLowerCase()]=e.slice(1).join().trim()}return b},f=a.XMLHttpRequest,g=function(b,c){var e=b.query[b.jsonp],f=d(b),g=document.createElement("script");g.src=f,g.async=!0,a[e]=function(b){c(null,b),delete a[e],delete g.onerror,g.parentNode.remove(g)},g.onerror=function(b){c(b),delete g.onerror,delete a[e],g.parentNode.remove(g)};var h=document.head||document.getElementsByTagName("head")[0];h.appendChild(g)},h=function(a){a=b.handleOptions(a);for(var c in a)this[c]=a[c];var h=this;this.request=this;var i=new b.HTTPResponse;if(this.response=i,!a.body||"GET"!==a.method&&"HEAD"!==a.method||console.warn("Request body ignored for GET and HEAD methods with XMLHttpRequest"),"string"==typeof a.jsonp)return a.body&&console.warn("Request body ignored for JSONP"),void g(a,function(a,b){a?h.onerror(a):i.onend(b)});var j=new f;this.impl=j,j.addEventListener("error",function(a){h.onerror(a)}),j.addEventListener("readystatechange",function(){if(2===j.readyState){i.status=j.status;var a=e(j.getAllResponseHeaders());i.headers=a,i.type=b.getTypeFromHeaders(a),i.size=b.getSizeFromHeaders(a),h.onresponse(i)}else 4===j.readyState&&i.onend(j.response)}),j.addEventListener("progress",function(a){i.onprogress(a.loaded,a.lengthComputable?a.total:null)}),j.upload.addEventListener("progress",function(a){h.onprogress(a.loaded,a.lengthComputable?a.total:null)}),j.open(a.method,d(a),!0);for(var k in a.headers)j.setRequestHeader(k,a.headers[k]);j.send(a.body)};h.prototype.abort=function(){this.req.abort()},h.prototype.onresponse=function(){},h.prototype.onprogress=function(){},h.prototype.onerror=function(){},a.HTTPClient.Request=h}(this),function(a){"use strict";var b,c;"undefined"!=typeof module&&module.exports?(b=require("./utils"),c=require("./node")):(b=a.HTTPClient.utils,c=a.HTTPClient.Request);var d=function(a){a=b.handleOptions(a);for(var c in a)this[c]=a[c]},e=function(a,d){"string"==typeof a&&(a={path:a}),a=b.handleOptions(a,this);var e=new c(a);if(!d)return e;e.onerror=function(a){d(a)};var f;return e.onresponse=function(a){f=a,a.onend=function(a){d(null,a)}},e};d.request=e,d.prototype.request=e,b.methods.forEach(function(a){var b=function(b,c){return"string"==typeof b&&(b={path:b}),b.method=a,this.request(b,c)};d.prototype[a]=b,d.prototype[a.toLowerCase()]=b,d[a]=b,d[a.toLowerCase()]=b}),"undefined"!=typeof module&&module.exports?module.exports=d:(a.HTTPClient=d,a.HTTPClient.utils=b)}(this);
//# sourceMappingURL=HTTPClient.min.map